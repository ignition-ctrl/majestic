#################################
##### LOCALHOST             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name localhost;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/localhost.pem;
    ssl_certificate_key  /etc/ssl/nginx/localhost-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name localhost;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/pdvlaravel/public;

    include snippets/laravel.conf;
}

#################################
##### REST-API-BACKEND      #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name rest-api-backend;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/rest-api-backend.pem;
    ssl_certificate_key  /etc/ssl/nginx/rest-api-backend-key.pem;

    index index.php;
    server_name rest-api-backend;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/rest-api-backend;

    include snippets/php.conf;
}

#################################
##### REST-API-FRONTEND      #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name rest-api-frontend;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/rest-api-frontend.pem;
    ssl_certificate_key  /etc/ssl/nginx/rest-api-frontend-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name rest-api-frontend;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/rest-api-backend/dist;

    include snippets/vue-php.conf;
}

#################################
##### STARTPAGE             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name startpages;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/startpages.pem;
    ssl_certificate_key  /etc/ssl/nginx/startpages-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name startpages;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/startpages;

    include snippets/php.conf;
}

#################################
##### PAGSEGURO             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name pagseguro;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/pagseguro.pem;
    ssl_certificate_key  /etc/ssl/nginx/pagseguro-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name pagseguro;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/pagseguro-php;

    include snippets/slim.conf;
}

#################################
##### MAJESTIC              #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name majestic;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/majestic.pem;
    ssl_certificate_key  /etc/ssl/nginx/majestic-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name majestic;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/celke;

    include snippets/php.conf;
}

#################################
##### MUDANCAONLINE         #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name mudancaonline;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/mudancaonline.pem;
    ssl_certificate_key  /etc/ssl/nginx/mudancaonline-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name mudancaonline 127.0.0.3;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/mudancaonline/public;

    include snippets/mvc.conf;
}

#################################
##### LUCASBRUM             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name lucasbrum;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/lucasbrum.pem;
    ssl_certificate_key  /etc/ssl/nginx/lucasbrum-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.html;
    server_name lucasbrum;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/lucasbrum;

    include snippets/vue-simple.conf;
}

#################################
##### SOMDOMATO             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name somdomato;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/somdomato.pem;
    ssl_certificate_key  /etc/ssl/nginx/somdomato-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name somdomato;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/somdomato/public;

    include snippets/mvc.conf;
}

#################################
##### RADIOCHAT             #####
#################################
server {
    listen 80;
    listen [::]:80;
    server_name radiochat;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    listen [::]:443 ssl;

    ssl_session_cache shared:SSL:10m;
    ssl_session_timeout 5m;

    ssl_certificate      /etc/ssl/nginx/radiochat.pem;
    ssl_certificate_key  /etc/ssl/nginx/radiochat-key.pem;

    autoindex on;
    fastcgi_intercept_errors on;
    disable_symlinks off;

    index index.php index.html;
    server_name radiochat;

    error_log  /var/log/nginx/error.log;
    access_log /var/log/nginx/access.log;

    root /code/radiochat;

    include snippets/php.conf;
}
